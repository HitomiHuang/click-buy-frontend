"use strict";(self["webpackChunkclick_buy_frontend"]=self["webpackChunkclick_buy_frontend"]||[]).push([[462],{1462:function(e,a,t){t.r(a),t.d(a,{default:function(){return x}});var c=t(6252),r=t(3577),s=t(9963),d=t(2262),i=t(2201),l=t(6163),n=t(9655);const u=e=>((0,c.dD)("data-v-1936c36e"),e=e(),(0,c.Cn)(),e),o={class:"product-filter"},p=u((()=>(0,c._)("span",null,"篩選",-1))),v={class:"filter-type"},_=u((()=>(0,c._)("option",{value:"",selected:"",hidden:""},"價格",-1))),y=u((()=>(0,c._)("option",{value:"1"},"價格：低到高",-1))),f=u((()=>(0,c._)("option",{value:"2"},"價格：高到低",-1))),w=[_,y,f],k={class:"card-wrapper"},m=["src"],h={class:"card-body"},b={class:"product-name"},C={class:"card-text"},g=u((()=>(0,c._)("div",{class:"product-discount"},null,-1))),H={class:"product-price"},A={class:"card-text price"},D=u((()=>(0,c._)("span",{class:"money"},"$",-1)));var M={__name:"SearchView",setup(e){const a=(0,i.yj)(),t=a.query.keyword,u=(0,d.iH)([]),_=(0,d.iH)("updatedAt"),y=(0,d.iH)(""),f=async()=>{try{const e=await n.Z.searchProducts({keyword:t});u.value=e.data.data.products}catch(e){l.F.fire({icon:"error",title:"無法取得商品資料，請稍後再試"})}},M=async e=>{try{_.value=e;const a=await n.Z.searchProducts({keyword:t,selectType:e});u.value=a.data.data.products}catch(a){l.F.fire({icon:"error",title:"無法取得商品資料，請稍後再試"})}},Z=()=>{1==y.value?u.value.sort((function(e,a){return e.price-a.price})):u.value.sort((function(e,a){return a.price-e.price}))};return(0,c.bv)((()=>{f()})),(e,a)=>{const t=(0,c.up)("router-link");return(0,c.wg)(),(0,c.iD)(c.HY,null,[(0,c._)("div",o,[p,(0,c._)("div",v,[(0,c._)("div",{class:(0,r.C_)(["filter-btn",{active:"updatedAt"===_.value}]),onClick:a[0]||(a[0]=(0,s.iM)((e=>M("updatedAt")),["prevent","stop"]))}," 最新 ",2),(0,c._)("div",{class:(0,r.C_)(["filter-btn",{active:"soldout"===_.value}]),onClick:a[1]||(a[1]=(0,s.iM)((e=>M("soldout")),["prevent","stop"]))}," 最熱銷 ",2),(0,c.wy)((0,c._)("select",{name:"priceOrder",id:"priceOrder",onChange:Z,"onUpdate:modelValue":a[2]||(a[2]=e=>y.value=e)},w,544),[[s.bM,y.value]])])]),(0,c._)("div",k,[((0,c.wg)(!0),(0,c.iD)(c.HY,null,(0,c.Ko)(u.value,(e=>((0,c.wg)(),(0,c.j4)(t,{key:e.id,class:"card",to:{name:"product",params:{productId:e.id}}},{default:(0,c.w5)((()=>[(0,c._)("img",{src:e.image,class:"card-image",alt:""},null,8,m),(0,c._)("div",h,[(0,c._)("div",b,[(0,c._)("span",C,(0,r.zw)(e.name),1)]),g,(0,c._)("div",H,[(0,c._)("span",A,[D,(0,c.Uk)((0,r.zw)(e.price),1)])])])])),_:2},1032,["to"])))),128))])],64)}}},Z=t(3744);const j=(0,Z.Z)(M,[["__scopeId","data-v-1936c36e"]]);var x=j}}]);
//# sourceMappingURL=462.269cc2cf.js.map