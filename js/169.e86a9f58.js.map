{"version":3,"file":"js/169.e86a9f58.js","mappings":"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","sources":["webpack://click-buy-frontend/./src/views/SellerView.vue","webpack://click-buy-frontend/./src/views/SellerView.vue?cb60"],"sourcesContent":["<template>\r\n  <div class=\"wrapper\">\r\n    <router-link to=\"/seller/addProduct\">\r\n      <button type=\"button\" class=\"btn btn-primary\">上架商品</button>\r\n    </router-link>\r\n\r\n    <h3 class=\"mt-5\">商品列表</h3>\r\n    <table>\r\n      <thead>\r\n        <tr>\r\n          <th class=\"check-box\">#</th>\r\n          <th class=\"product-info\">商品</th>\r\n          <th class=\"product-price\">單價</th>\r\n          <th class=\"product-amount\">剩餘數量</th>\r\n          <th class=\"total-count\">賣出數量</th>\r\n          <th class=\"action\">操作</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr v-for=\"(product, index) in products\" :key=\"product.id\">\r\n          <td class=\"check-box\">\r\n            {{ index + 1 }}\r\n          </td>\r\n          <td class=\"product-info\">\r\n            <div class=\"product-img\">\r\n              <img :src=\"product.image\" alt=\"\" />\r\n            </div>\r\n            <div class=\"product-des\">\r\n              {{ product.name }}\r\n            </div>\r\n          </td>\r\n          <td class=\"product-price\">${{ product.price }}</td>\r\n          <td class=\"product-amount\">{{ product.restAmount }}</td>\r\n          <td class=\"total-count\">\r\n            {{ product.soldout }}\r\n          </td>\r\n          <td class=\"action\">\r\n            <router-link\r\n              :to=\"{ name: 'edit-product', params: { productId: product.id } }\"\r\n              >\r\n                編輯\r\n              </router-link>\r\n            <div class=\"off-product mt-3\" @click.stop.prevent=\"offProduct(product.id)\">下架</div>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { onMounted, ref } from \"vue\";\r\nimport { Toast } from \"../utils/helpers\";\r\nimport productsAPI from \"./../apis/products\";\r\n\r\nexport default {\r\n  setup() {\r\n    const products = ref([]);\r\n    const fetchProducts = async () => {\r\n      try {\r\n        const response = await productsAPI.getProductsByShop();\r\n        products.value = response.data.data.products;\r\n      } catch (err) {\r\n        Toast.fire({\r\n          icon: \"error\",\r\n          title: \"無法取得商品資料，請稍後再試\",\r\n        });\r\n      }\r\n    };\r\n\r\n    const offProduct = async(productId) => {\r\n      try{\r\n        const product = {id: productId, status: 'disable'}\r\n        await productsAPI.editProduct(product)\r\n        Toast.fire({\r\n          icon: \"error\",\r\n          title: \"下架成功\",\r\n        });\r\n      }catch(err){\r\n        Toast.fire({\r\n          icon: \"error\",\r\n          title: \"下架失敗，請稍後再試\",\r\n        });\r\n      }\r\n    }\r\n\r\n    onMounted(() => {\r\n      fetchProducts();\r\n    });\r\n\r\n    return { products, offProduct };\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.wrapper {\r\n  width: 100%;\r\n  margin-top: 40px;\r\n}\r\ntable {\r\n  margin-top: 40px;\r\n  width: 100%;\r\n}\r\nth,\r\ntd {\r\n  text-align: center;\r\n}\r\nthead {\r\n  line-height: 40px;\r\n  background: white;\r\n  border-bottom: 10px solid #f5f5f5;\r\n  border-collapse: collapse;\r\n}\r\ntbody {\r\n  line-height: 200px;\r\n  background: white;\r\n  border-bottom: 10px solid #f5f5f5;\r\n}\r\ntr {\r\n  display: flex;\r\n}\r\n.check-box {\r\n  flex: 1;\r\n}\r\n.product-info {\r\n  display: flex;\r\n  flex: 8;\r\n}\r\n.product-amount {\r\n  flex: 2;\r\n}\r\n.action {\r\n  flex: 2;\r\n  line-height: normal;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center; \r\n}\r\n.product-img {\r\n  height: 300px;\r\n  padding: 10px;\r\n}\r\n.product-img img{\r\n  object-fit: cover;\r\n  width: 300px;\r\n  height: 200px;\r\n  \r\n}\r\n.product-desc{\r\n  margin-left: 100px;\r\n}\r\n.btn {\r\n  width: 100px;\r\n}\r\n.off-product{\r\n  color:red;\r\n  cursor:pointer;\r\n}\r\n</style>","import { render } from \"./SellerView.vue?vue&type=template&id=6633b38e&scoped=true\"\nimport script from \"./SellerView.vue?vue&type=script&lang=js\"\nexport * from \"./SellerView.vue?vue&type=script&lang=js\"\n\nimport \"./SellerView.vue?vue&type=style&index=0&id=6633b38e&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6633b38e\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","type","_createElementBlock","_hoisted_1","_createVNode","_component_router_link","to","_hoisted_2","_hoisted_3","_hoisted_4","_Fragment","_renderList","$setup","products","product","index","key","id","_hoisted_5","_toDisplayString","_hoisted_6","_hoisted_7","src","image","alt","_hoisted_9","name","_hoisted_10","price","_hoisted_11","restAmount","_hoisted_12","soldout","_hoisted_13","params","productId","onClick","_withModifiers","$event","offProduct","_hoisted_14","setup","ref","fetchProducts","async","response","productsAPI","getProductsByShop","value","data","err","Toast","fire","icon","title","status","editProduct","onMounted","__exports__","render"],"sourceRoot":""}