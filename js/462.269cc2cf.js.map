{"version":3,"file":"js/462.269cc2cf.js","mappings":"43BA0DA,MAAMA,GAASC,EAAAA,EAAAA,MACTC,EAAUF,EAAOG,MAAMD,QACvBE,GAAWC,EAAAA,EAAAA,IAAI,IACfC,GAAOD,EAAAA,EAAAA,IAAI,aACXE,GAAWF,EAAAA,EAAAA,IAAI,IAEfG,EAAgBC,UACpB,IACE,MAAMC,QAAiBC,EAAAA,EAAYC,eAAe,CAAEV,YACpDE,EAASS,MAAQH,EAASI,KAAKA,KAAKV,QACtC,CAAE,MAAOW,GACPC,EAAAA,EAAMC,KAAK,CACTC,KAAM,QACNC,MAAO,kBAEX,GAGIC,EAAmBX,UACvB,IACEH,EAAKO,MAAQQ,EACb,MAAMX,QAAiBC,EAAAA,EAAYC,eAAe,CAAEV,UAASmB,eAC7DjB,EAASS,MAAQH,EAASI,KAAKA,KAAKV,QACtC,CAAE,MAAOW,GACPC,EAAAA,EAAMC,KAAK,CACTC,KAAM,QACNC,MAAO,kBAEX,GAGIG,EAAeA,KACG,GAAlBf,EAASM,MACXT,EAASS,MAAMU,MAAK,SAAUC,EAAGC,GAC/B,OAAOD,EAAEE,MAAQD,EAAEC,KACrB,IAEAtB,EAASS,MAAMU,MAAK,SAAUC,EAAGC,GAC/B,OAAOA,EAAEC,MAAQF,EAAEE,KACrB,GACF,E,OAEFC,EAAAA,EAAAA,KAAU,KACRnB,GAAe,I,ggCC/FjB,MAAMoB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O","sources":["webpack://click-buy-frontend/./src/views/SearchView.vue","webpack://click-buy-frontend/./src/views/SearchView.vue?f97a"],"sourcesContent":["<template>\r\n  <div class=\"product-filter\">\r\n    <span>篩選</span>\r\n    <div class=\"filter-type\">\r\n      <div\r\n        class=\"filter-btn\"\r\n        :class=\"{ active: type === 'updatedAt' }\"\r\n        @click.prevent.stop=\"changeFilterType('updatedAt')\"\r\n      >\r\n        最新\r\n      </div>\r\n      <div\r\n        class=\"filter-btn\"\r\n        :class=\"{ active: type === 'soldout' }\"\r\n        @click.prevent.stop=\"changeFilterType('soldout')\"\r\n      >\r\n        最熱銷\r\n      </div>\r\n      <select\r\n        name=\"priceOrder\"\r\n        id=\"priceOrder\"\r\n        @change=\"sortProducts\"\r\n        v-model=\"sortType\"\r\n      >\r\n        <option value=\"\" selected hidden>價格</option>\r\n        <option value=\"1\">價格：低到高</option>\r\n        <option value=\"2\">價格：高到低</option>\r\n      </select>\r\n    </div>\r\n  </div>\r\n  <div class=\"card-wrapper\">\r\n    <router-link\r\n      v-for=\"product in products\"\r\n      :key=\"product.id\"\r\n      class=\"card\"\r\n      :to=\"{ name: 'product', params: { productId: product.id } }\"\r\n    >\r\n      <img :src=\"product.image\" class=\"card-image\" alt=\"\" />\r\n      <div class=\"card-body\">\r\n        <div class=\"product-name\">\r\n          <span class=\"card-text\">{{ product.name }}</span>\r\n        </div>\r\n        <div class=\"product-discount\"></div>\r\n        <div class=\"product-price\">\r\n          <span class=\"card-text price\"\r\n            ><span class=\"money\">$</span>{{ product.price }}</span\r\n          >\r\n        </div>\r\n      </div>\r\n    </router-link>\r\n  </div>\r\n</template>\r\n<script setup>\r\nimport { onMounted, ref } from \"vue\";\r\nimport { useRoute } from \"vue-router\";\r\nimport { Toast } from \"../utils/helpers\";\r\nimport productsAPI from \"../apis/products\";\r\n\r\nconst router = useRoute();\r\nconst keyword = router.query.keyword;\r\nconst products = ref([]);\r\nconst type = ref(\"updatedAt\");\r\nconst sortType = ref(\"\");\r\n\r\nconst fetchProducts = async () => {\r\n  try {\r\n    const response = await productsAPI.searchProducts({ keyword });\r\n    products.value = response.data.data.products;\r\n  } catch (err) {\r\n    Toast.fire({\r\n      icon: \"error\",\r\n      title: \"無法取得商品資料，請稍後再試\",\r\n    });\r\n  }\r\n};\r\n\r\nconst changeFilterType = async (selectType) => {\r\n  try {\r\n    type.value = selectType;\r\n    const response = await productsAPI.searchProducts({ keyword, selectType });\r\n    products.value = response.data.data.products;\r\n  } catch (err) {\r\n    Toast.fire({\r\n      icon: \"error\",\r\n      title: \"無法取得商品資料，請稍後再試\",\r\n    });\r\n  }\r\n};\r\n\r\nconst sortProducts = () => {\r\n  if (sortType.value == 1) {\r\n    products.value.sort(function (a, b) {\r\n      return a.price - b.price;\r\n    });\r\n  } else {\r\n    products.value.sort(function (a, b) {\r\n      return b.price - a.price;\r\n    });\r\n  }\r\n};\r\nonMounted(() => {\r\n  fetchProducts();\r\n});\r\n</script>\r\n<style scoped>\r\n.product-filter {\r\n  margin-top: 40px;\r\n  width: 100%;\r\n  height: 75px;\r\n  background: #ededed;\r\n  border-bottom: 10px solid #f5f5f5;\r\n  border-collapse: collapse;\r\n  padding: 13px 20px;\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n.filter-type {\r\n  margin-left: 15px;\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n.filter-btn {\r\n  height: 34px;\r\n  width: 90px;\r\n  text-align: center;\r\n  line-height: 34px;\r\n  margin-right: 10px;\r\n  background: white;\r\n  cursor: pointer;\r\n}\r\nselect {\r\n  height: 34px;\r\n  width: 200px;\r\n}\r\n.card-wrapper {\r\n  margin: 0 0;\r\n  display: grid;\r\n  justify-content: center;\r\n  grid-template-columns: repeat(6, 190px);\r\n  gap: 10px 10px;\r\n}\r\n.card {\r\n  width: 190px;\r\n  height: 380px;\r\n  border-radius: 3px;\r\n}\r\n.card-image {\r\n  height: 210px;\r\n}\r\n.card-body {\r\n  padding: 10px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n}\r\n.card-text {\r\n  line-height: normal;\r\n  display: block;\r\n}\r\n.money {\r\n  font-size: 1px;\r\n}\r\n.price {\r\n  color: red;\r\n  font-size: 18px;\r\n}\r\n.active {\r\n  color: white;\r\n  background: RGB(238, 77, 45);\r\n}\r\n</style>","import script from \"./SearchView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./SearchView.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./SearchView.vue?vue&type=style&index=0&id=1936c36e&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-1936c36e\"]])\n\nexport default __exports__"],"names":["router","useRoute","keyword","query","products","ref","type","sortType","fetchProducts","async","response","productsAPI","searchProducts","value","data","err","Toast","fire","icon","title","changeFilterType","selectType","sortProducts","sort","a","b","price","onMounted","__exports__"],"sourceRoot":""}